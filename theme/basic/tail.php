  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-top">
        <div class="footer-brand">
          <div class="footer-logo">
            <div class="footer-logo-icon">
              <svg width="20" height="20" viewBox="0 0 32 32" fill="none">
                <circle cx="11" cy="12" r="8" fill="url(#gold-ball-ft)"/>
                <ellipse cx="8" cy="9" rx="3" ry="2" fill="rgba(255,255,255,0.5)" transform="rotate(-25 8 9)"/>
                <circle cx="18" cy="18" r="7" fill="none" stroke="#030711" stroke-width="2"/>
                <circle cx="16" cy="16" r="1.2" fill="#030711"/>
                <circle cx="20" cy="19" r="1.2" fill="#030711"/>
                <line x1="23" y1="23" x2="28" y2="28" stroke="#030711" stroke-width="2.5" stroke-linecap="round"/>
                <defs>
                  <linearGradient id="gold-ball-ft" x1="20%" y1="20%" x2="80%" y2="80%">
                    <stop offset="0%" stop-color="#ffe066"/>
                    <stop offset="50%" stop-color="#ffd700"/>
                    <stop offset="100%" stop-color="#cc9f00"/>
                  </linearGradient>
                </defs>
              </svg>
            </div>
            ì˜¤ëŠ˜ë¡œë˜
          </div>
          <p class="footer-desc">
            AI ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ í†µê³„ ë¶„ì„ ì„œë¹„ìŠ¤.<br>
            ë™í–‰ë³µê¶Œ ê³µì‹ ë°ì´í„°ë¥¼ í™œìš©í•©ë‹ˆë‹¤.
          </p>
        </div>
        <div class="footer-links">
          <div class="footer-col">
            <h4>ì„œë¹„ìŠ¤</h4>
            <ul>
              <li><a href="result.html">AI ë¶„ì„</a></li>
              <li><a href="#stats">í†µê³„ ëŒ€ì‹œë³´ë“œ</a></li>
              <li><a href="#pricing">ìš”ê¸ˆ ì•ˆë‚´</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>ì§€ì›</h4>
            <ul>
              <li><a href="#faq">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</a></li>
              <li><a href="mailto:support@lottoinsight.ai">ë¬¸ì˜í•˜ê¸°</a></li>
            </ul>
          </div>
          <div class="footer-col">
            <h4>ë²•ì  ê³ ì§€</h4>
            <ul>
              <li><a href="terms.html">ì´ìš©ì•½ê´€</a></li>
              <li><a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">
          Â© 2025 ì˜¤ëŠ˜ë¡œë˜. All rights reserved.
        </p>
        <p class="footer-disclaimer">
          âš ï¸ ë³¸ ì„œë¹„ìŠ¤ëŠ” í†µê³„ ê¸°ë°˜ ì°¸ê³  ì •ë³´ì´ë©°, ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§Œ 19ì„¸ ì´ìƒ ì´ìš© ê°€ëŠ¥. ë¡œë˜ êµ¬ë§¤ëŠ” ë™í–‰ë³µê¶Œ ê³µì‹ íŒë§¤ì²˜ì—ì„œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        </p>
      </div>

      <div class="footer-company">
        <div class="footer-company-info">
          <div class="footer-company-item">ìƒí˜¸:<span>ì˜¤ëŠ˜ë¡œë˜</span></div>
          <div class="footer-company-item">ëŒ€í‘œ:<span>í™ê¸¸ë™</span></div>
          <div class="footer-company-item">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸:<span>123-45-67890</span></div>
          <div class="footer-company-item">í†µì‹ íŒë§¤ì—…ì‹ ê³ :<span>ì œ2023-ì„œìš¸ê°•ë‚¨-12345í˜¸</span></div>
        </div>
        <div class="footer-company-info">
          <div class="footer-company-item">ì£¼ì†Œ:<span>ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123, 4ì¸µ</span></div>
          <div class="footer-company-item">ì„œë¹„ìŠ¤ ì‹œì‘ì¼:<span>2023ë…„ 1ì›” 1ì¼</span></div>
        </div>
        <div class="footer-contact">
          <div class="footer-contact-item">
            ğŸ“§ ì´ë©”ì¼: <a href="mailto:support@lottoinsight.ai">support@lottoinsight.ai</a>
          </div>
          <div class="footer-contact-item">
            ğŸ“ ê³ ê°ì„¼í„°: <a href="tel:02-1234-5678">02-1234-5678</a> (í‰ì¼ 10:00~18:00)
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // ===== Loading Screen =====
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('loadingScreen').classList.add('hidden');
      }, 800);
      
      // ===== Initialize Data from lotto-data.js =====
      initializeLottoData();
    });

    // ===== Initialize Lotto Data =====
    function initializeLottoData() {
      if (typeof LOTTO_HISTORY_DATA === 'undefined') {
        console.warn('LOTTO_HISTORY_DATA not loaded');
        return;
      }

      const latestRound = 1201;
      const latestData = LOTTO_HISTORY_DATA[latestRound];
      
      if (latestData) {
        // Update LIVE ìµœì‹  ê²°ê³¼ ì¹´ë“œ
        updateLiveResult(latestRound, latestData);
        
        // Update archive ì‹¤ì œ ë‹¹ì²¨ ë²ˆí˜¸
        updateArchiveActualNumbers();
      }
    }

    function getBallColor(num) {
      if (num <= 10) return 'ball-yellow';
      if (num <= 20) return 'ball-blue';
      if (num <= 30) return 'ball-red';
      if (num <= 40) return 'ball-gray';
      return 'ball-green';
    }

    function updateLiveResult(round, data) {
      // Update round info
      const roundEl = document.querySelector('.hero-card-round');
      if (roundEl) {
        roundEl.textContent = `${round}íšŒ Â· ${data.date}`;
      }
      
      // Update balls
      const ballsContainer = document.querySelector('.hero-balls-container');
      if (ballsContainer) {
        const ballsHtml = data.numbers.map(n => 
          `<div class="hero-ball ${getBallColor(n)}">${n}</div>`
        ).join('') +
        `<span class="bonus-sep">+</span>` +
        `<div class="hero-ball ${getBallColor(data.bonus)}">${data.bonus}</div>`;
        ballsContainer.innerHTML = ballsHtml;
      }
    }

    function updateArchiveActualNumbers() {
      // Archive í…Œì´ë¸”ì˜ ì‹¤ì œ ë‹¹ì²¨ ë²ˆí˜¸ ì—…ë°ì´íŠ¸
      const archiveRows = document.querySelectorAll('.archive-row');
      
      archiveRows.forEach(row => {
        const roundEl = row.querySelector('.archive-round');
        if (!roundEl) return;
        
        const roundText = roundEl.textContent;
        const roundNum = parseInt(roundText.replace('íšŒ', ''));
        
        if (!roundNum || !LOTTO_HISTORY_DATA[roundNum]) return;
        
        const actualData = LOTTO_HISTORY_DATA[roundNum];
        const actualBallsContainer = row.querySelectorAll('.archive-balls')[1]; // ë‘ ë²ˆì§¸ê°€ ì‹¤ì œ ë‹¹ì²¨
        
        if (actualBallsContainer) {
          const ballsHtml = actualData.numbers.map(n => 
            `<span class="archive-ball ${getBallColor(n)}">${n}</span>`
          ).join('');
          actualBallsContainer.innerHTML = ballsHtml;
        }
      });
    }

    // ===== Mobile Menu =====
    function openMobileMenu() {
      document.getElementById('mobileMenu').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileMenu() {
      document.getElementById('mobileMenu').classList.remove('active');
      document.body.style.overflow = '';
    }

    // ===== Back to Top =====
    const backToTopBtn = document.getElementById('backToTop');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 500) {
        backToTopBtn.classList.add('visible');
      } else {
        backToTopBtn.classList.remove('visible');
      }
    });

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Navbar scroll effect
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // FAQ accordion
    document.querySelectorAll('.faq-question').forEach(button => {
      button.addEventListener('click', () => {
        const item = button.parentElement;
        const isActive = item.classList.contains('active');
        
        // Close all
        document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
        
        // Open clicked if wasn't active
        if (!isActive) {
          item.classList.add('active');
        }
      });
    });

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // ===== Live Activity Feed =====
    const activities = [
      { name: 'ê¹€**', loc: 'ì„œìš¸', style: 'Hot/Cold ë¶„ì„' },
      { name: 'ì´**', loc: 'ë¶€ì‚°', style: 'ë°¸ëŸ°ìŠ¤ ìµœì í™”' },
      { name: 'ë°•**', loc: 'ëŒ€ì „', style: 'í™€ì§/ê³ ì € ë¶„ì„' },
      { name: 'ìµœ**', loc: 'ì¸ì²œ', style: 'AI ì¶”ì²œ' },
      { name: 'ì •**', loc: 'ê´‘ì£¼', style: 'ACê°’ ë¶„ì„' },
      { name: 'ê°•**', loc: 'ëŒ€êµ¬', style: 'íŒ¨í„´ ë¶„ì„' },
      { name: 'ì¡°**', loc: 'ìš¸ì‚°', style: 'Hot/Cold ë¶„ì„' },
      { name: 'ìœ¤**', loc: 'ì„¸ì¢…', style: 'ë°¸ëŸ°ìŠ¤ ìµœì í™”' },
      { name: 'ì¥**', loc: 'ìˆ˜ì›', style: 'AI ì¶”ì²œ' },
      { name: 'ì„**', loc: 'ì„±ë‚¨', style: 'í™€ì§/ê³ ì € ë¶„ì„' },
    ];

    const surnames = ['ê¹€', 'ì´', 'ë°•', 'ìµœ', 'ì •', 'ê°•', 'ì¡°', 'ìœ¤', 'ì¥', 'ì„', 'í•œ', 'ì˜¤', 'ì„œ', 'ì‹ ', 'ê¶Œ'];
    const locations = ['ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€ì „', 'ì¸ì²œ', 'ê´‘ì£¼', 'ëŒ€êµ¬', 'ìš¸ì‚°', 'ì„¸ì¢…', 'ìˆ˜ì›', 'ì„±ë‚¨', 'ê³ ì–‘', 'ìš©ì¸', 'ì²­ì£¼', 'ì „ì£¼', 'ì²œì•ˆ'];
    const styles = ['Hot/Cold ë¶„ì„', 'ACê°’ ë¶„ì„', 'í™€ì§/ê³ ì € ë¶„ì„', 'ìƒ‰ìƒë³¼ í†µê³„', 'ìƒê´€ê´€ê³„ ë¶„ì„', 'ëª¬í…Œì¹´ë¥¼ë¡œ', 'í•©ê³„ ë¶„ì„', 'ì£¼ê¸° ë¶„ì„', 'ëìˆ˜ ë¶„ì„', 'ì—°ì†ë²ˆí˜¸ íŒ¨í„´'];

    function generateActivity() {
      const surname = surnames[Math.floor(Math.random() * surnames.length)];
      const location = locations[Math.floor(Math.random() * locations.length)];
      const style = styles[Math.floor(Math.random() * styles.length)];
      return { name: `${surname}**`, loc: location, style };
    }

    function addActivity() {
      const feed = document.getElementById('activityFeed');
      const activity = generateActivity();
      
      const item = document.createElement('div');
      item.className = 'activity-item';
      item.innerHTML = `
        <div class="activity-avatar">${activity.name[0]}*</div>
        <div class="activity-content">
          <p class="activity-text"><strong>${activity.name} (${activity.loc})</strong> ë‹˜ì´ <span class="style-tag">${activity.style}</span>ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤</p>
        </div>
        <span class="activity-time">ë°©ê¸ˆ ì „</span>
      `;
      
      feed.insertBefore(item, feed.firstChild);
      
      // Update times
      const items = feed.querySelectorAll('.activity-item');
      items.forEach((el, i) => {
        if (i > 0) {
          el.querySelector('.activity-time').textContent = `${i}ë¶„ ì „`;
        }
      });
      
      // Keep only 4 items
      if (items.length > 4) {
        feed.removeChild(items[items.length - 1]);
      }
      
      // Update today count
      const countEl = document.getElementById('todayCount');
      const currentCount = parseInt(countEl.textContent.replace(/,/g, ''));
      countEl.textContent = (currentCount + 1).toLocaleString();
    }

    // Add new activity every 8-15 seconds
    setInterval(() => {
      addActivity();
    }, 8000 + Math.random() * 7000);

    // ===== Cumulative Counter Animation =====
    function animateCounter(el, target) {
      const duration = 2000;
      const start = 0;
      const startTime = performance.now();
      
      function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing
        const easeOut = 1 - Math.pow(1 - progress, 3);
        const current = Math.floor(start + (target - start) * easeOut);
        
        el.textContent = current.toLocaleString();
        
        if (progress < 1) {
          requestAnimationFrame(update);
        }
      }
      
      requestAnimationFrame(update);
    }

    // Counter observer
    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          const target = parseInt(el.dataset.target || el.textContent.replace(/,/g, ''));
          animateCounter(el, target);
          counterObserver.unobserve(el);
        }
      });
    }, { threshold: 0.5 });

    document.querySelectorAll('.cumulative-number').forEach(el => {
      el.dataset.target = el.textContent.replace(/,/g, '');
      el.textContent = '0';
      counterObserver.observe(el);
    });

    // ===== Data Verification =====
    // ì „ì²´ 1~1201íšŒ ë°ì´í„°ëŠ” lotto-data.jsì—ì„œ ë¡œë“œë¨ (getBallColor í•¨ìˆ˜ëŠ” ìœ„ì—ì„œ ì •ì˜)

    function verifyData() {
      const input = document.getElementById('verifyInput');
      const result = document.getElementById('verifyResult');
      const round = parseInt(input.value);
      
      if (!round || round < 1 || round > 1201) {
        alert('1ë¶€í„° 1201 ì‚¬ì´ì˜ íšŒì°¨ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      // LOTTO_HISTORY_DATAì—ì„œ ë°ì´í„° ì¡°íšŒ
      const data = typeof LOTTO_HISTORY_DATA !== 'undefined' ? LOTTO_HISTORY_DATA[round] : null;
      
      if (data) {
        document.getElementById('verifyTitle').textContent = `${round}íšŒì°¨ (${data.date})`;
        
        const ballsHtml = data.numbers.map(n => 
          `<span class="archive-ball ${getBallColor(n)}">${n}</span>`
        ).join('');
        
        // ë³´ë„ˆìŠ¤ ë²ˆí˜¸ í¬í•¨
        const ballsWithBonus = ballsHtml + 
          `<span style="margin: 0 6px; color: var(--text-muted);">+</span>` +
          `<span class="archive-ball ${getBallColor(data.bonus)}">${data.bonus}</span>`;
        
        document.getElementById('verifyBalls').innerHTML = ballsWithBonus;
        result.style.display = 'block';
      } else {
        document.getElementById('verifyTitle').textContent = `${round}íšŒì°¨`;
        document.getElementById('verifyBalls').innerHTML = '<span style="color: var(--text-muted)">ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</span>';
        result.style.display = 'block';
      }
    }

    // Allow Enter key
    document.getElementById('verifyInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        verifyData();
      }
    });

    // ===== Increment counters periodically =====
    setInterval(() => {
      const totalUsers = document.getElementById('totalUsers');
      const totalAnalysis = document.getElementById('totalAnalysis');
      
      if (totalUsers && Math.random() > 0.7) {
        const current = parseInt(totalUsers.textContent.replace(/,/g, ''));
        totalUsers.textContent = (current + 1).toLocaleString();
      }
      
      if (totalAnalysis && Math.random() > 0.5) {
        const current = parseInt(totalAnalysis.textContent.replace(/,/g, ''));
        totalAnalysis.textContent = (current + Math.floor(Math.random() * 3) + 1).toLocaleString();
      }
    }, 5000);

    // ===== Floating Share Button =====
    function toggleShare() {
      const floatingShare = document.getElementById('floatingShare');
      floatingShare.classList.toggle('active');
    }

    // Close when clicking outside
    document.addEventListener('click', (e) => {
      const floatingShare = document.getElementById('floatingShare');
      if (!floatingShare.contains(e.target)) {
        floatingShare.classList.remove('active');
      }
    });

    // ===== ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” =====
    const KAKAO_APP_KEY = 'YOUR_KAKAO_JAVASCRIPT_KEY'; // â† ì‹¤ì œ í‚¤ë¡œ êµì²´ í•„ìš”
    
    // SDK ì´ˆê¸°í™” (í˜ì´ì§€ ë¡œë“œ ì‹œ)
    if (typeof Kakao !== 'undefined' && KAKAO_APP_KEY !== 'YOUR_KAKAO_JAVASCRIPT_KEY') {
      try {
        Kakao.init(KAKAO_APP_KEY);
        console.log('âœ… ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” ì™„ë£Œ');
      } catch (e) {
        console.warn('ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” ì‹¤íŒ¨:', e);
      }
    }

    // ===== Share Functions =====
    const shareData = {
      title: 'ì˜¤ëŠ˜ë¡œë˜ - AI ë¡œë˜ ë¶„ì„',
      text: 'ğŸ± ì´ë²ˆ ì£¼ AI ì¶”ì²œ ë²ˆí˜¸: 5, 13, 22, 28, 34, 41\n\n23ë…„ê°„ 7,206ê°œ ë‹¹ì²¨ë²ˆí˜¸ë¥¼ AIê°€ ë¶„ì„! ë¬´ë£Œ 1íšŒ ì œê³µ!',
      url: window.location.href
    };

    function shareKakao() {
      const siteUrl = 'https://lottoinsight.ai';
      
      // Kakao SDK ì´ˆê¸°í™” ì—¬ë¶€ í™•ì¸
      if (typeof Kakao !== 'undefined' && Kakao.isInitialized()) {
        // ì¹´ì¹´ì˜¤í†¡ ë©”ì‹œì§€ API ì‚¬ìš©
        Kakao.Share.sendDefault({
          objectType: 'feed',
          content: {
            title: 'ğŸ± AIê°€ ë¶„ì„í•œ ì´ë²ˆ ì£¼ ë¡œë˜ ë²ˆí˜¸',
            description: 'ì˜¤ëŠ˜ë¡œë˜ - 1,201íšŒì°¨ ë°ì´í„° ê¸°ë°˜ AI ë¶„ì„\në¬´ë£Œ 1íšŒ ë¶„ì„ ì¦‰ì‹œ ì œê³µ!',
            imageUrl: siteUrl + '/og-image.png',
            link: {
              mobileWebUrl: siteUrl,
              webUrl: siteUrl
            }
          },
          itemContent: {
            profileText: 'ì˜¤ëŠ˜ë¡œë˜',
            titleImageText: 'AI ë¡œë˜ ë¶„ì„'
          },
          social: {
            likeCount: 1247,
            sharedCount: 458
          },
          buttons: [
            {
              title: 'ğŸ”® ë¬´ë£Œë¡œ ë¶„ì„ ë°›ê¸°',
              link: {
                mobileWebUrl: siteUrl + '/auth.html',
                webUrl: siteUrl + '/auth.html'
              }
            },
            {
              title: 'ğŸ“Š í†µê³„ ë³´ê¸°',
              link: {
                mobileWebUrl: siteUrl + '/result.html',
                webUrl: siteUrl + '/result.html'
              }
            }
          ]
        });
      } else {
        // SDK ë¯¸ì´ˆê¸°í™” ì‹œ ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬ ê³µìœ ë¡œ ëŒ€ì²´
        const shareUrl = encodeURIComponent(siteUrl);
        const shareText = encodeURIComponent('ğŸ± AI ë¡œë˜ ë¶„ì„ - ë¬´ë£Œ 1íšŒ ì¦‰ì‹œ ì œê³µ!\n23ë…„ê°„ ë‹¹ì²¨ë²ˆí˜¸ íŒ¨í„´ ë¶„ì„');
        
        // ëª¨ë°”ì¼ ì—¬ë¶€ ì²´í¬
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        
        if (isMobile) {
          // ì¹´ì¹´ì˜¤í†¡ ì•±ìœ¼ë¡œ ê³µìœ  ì‹œë„
          window.location.href = `kakaolink://send?appkey=${KAKAO_APP_KEY}&url=${shareUrl}`;
          
          // 3ì´ˆ í›„ì—ë„ í˜ì´ì§€ì— ìˆìœ¼ë©´ ì›¹ ê³µìœ ë¡œ ì „í™˜
          setTimeout(() => {
            window.open(`https://story.kakao.com/share?url=${shareUrl}`, '_blank');
          }, 3000);
        } else {
          // PCì—ì„œëŠ” ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬ ì›¹ ê³µìœ 
          window.open(`https://story.kakao.com/share?url=${shareUrl}`, '_blank', 'width=600,height=400');
        }
      }
      closeShareModal();
    }

    function shareTwitter() {
      const text = encodeURIComponent('ğŸ± ì´ë²ˆ ì£¼ AI ì¶”ì²œ ë²ˆí˜¸: 5, 13, 22, 28, 34, 41\n\nì˜¤ëŠ˜ë¡œë˜ì—ì„œ ë¬´ë£Œë¡œ AI ë¶„ì„ ë°›ì•„ë³´ì„¸ìš”!');
      const url = encodeURIComponent(window.location.href);
      window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank', 'width=600,height=400');
      closeShareModal();
    }

    function shareFacebook() {
      const url = encodeURIComponent(window.location.href);
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank', 'width=600,height=400');
      closeShareModal();
    }

    function copyLink() {
      navigator.clipboard.writeText(window.location.href).then(() => {
        showCopyToast();
        closeShareModal();
      }).catch(() => {
        // Fallback
        const textarea = document.createElement('textarea');
        textarea.value = window.location.href;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        showCopyToast();
        closeShareModal();
      });
    }

    function showCopyToast() {
      const toast = document.getElementById('copyToast');
      toast.classList.add('active');
      setTimeout(() => {
        toast.classList.remove('active');
      }, 2500);
    }

    // ===== Share Modal =====
    function openShareModal() {
      document.getElementById('shareModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeShareModal() {
      document.getElementById('shareModal').classList.remove('active');
      document.body.style.overflow = '';
    }

    // Close modal on backdrop click
    document.getElementById('shareModal').addEventListener('click', (e) => {
      if (e.target === e.currentTarget) {
        closeShareModal();
      }
    });

    // Close modal on ESC key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeShareModal();
      }
    });

    // ===== Notification Subscription =====
    function subscribeNotification(e) {
      e.preventDefault();
      const phone = document.getElementById('notificationPhone').value.trim();
      
      if (!phone) {
        alert('ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      
      // Phone validation (Korean format)
      const phoneRegex = /^01[0-9]-?[0-9]{3,4}-?[0-9]{4}$/;
      if (!phoneRegex.test(phone.replace(/-/g, ''))) {
        alert('ì˜¬ë°”ë¥¸ ì „í™”ë²ˆí˜¸ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.\nì˜ˆ: 010-1234-5678');
        return;
      }
      
      // Simulate subscription
      alert('ğŸ”” ì•Œë¦¼ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\në§¤ì£¼ í† ìš”ì¼ ì¶”ì²¨ í›„ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê²°ê³¼ë¥¼ ë³´ë‚´ë“œë¦´ê²Œìš”.');
      document.getElementById('notificationPhone').value = '';
    }

    // ===== Web Share API (if supported) =====
    if (navigator.share) {
      // Modern browsers with Web Share API
      document.querySelectorAll('.share-toggle').forEach(btn => {
        btn.addEventListener('long-press', () => {
          navigator.share(shareData).catch(console.error);
        });
      });
    }

    // ===== Keyboard shortcut for share =====
    document.addEventListener('keydown', (e) => {
      // Ctrl/Cmd + Shift + S to open share modal
      if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'S') {
        e.preventDefault();
        openShareModal();
      }
    });

    // ===== Countdown Timer =====
    function updateCountdown() {
      const now = new Date();
      const dayOfWeek = now.getDay(); // 0 = Sunday, 6 = Saturday
      
      // Find next Saturday 8:45 PM (20:45)
      let daysUntilSaturday = (6 - dayOfWeek + 7) % 7;
      if (daysUntilSaturday === 0) {
        // It's Saturday, check if past 20:45
        const saturdayTime = new Date(now);
        saturdayTime.setHours(20, 45, 0, 0);
        if (now >= saturdayTime) {
          daysUntilSaturday = 7; // Next Saturday
        }
      }
      
      const nextDraw = new Date(now);
      nextDraw.setDate(now.getDate() + daysUntilSaturday);
      nextDraw.setHours(20, 45, 0, 0);
      
      const diff = nextDraw - now;
      
      if (diff <= 0) {
        // Refresh for next week
        setTimeout(updateCountdown, 1000);
        return;
      }
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const secs = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('countDays').textContent = days;
      document.getElementById('countHours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('countMins').textContent = mins.toString().padStart(2, '0');
      document.getElementById('countSecs').textContent = secs.toString().padStart(2, '0');
    }
    
    // Initialize countdown
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ===== Queue Number =====
    let queueNum = 247;
    function updateQueueNumber() {
      if (Math.random() > 0.6) {
        queueNum += Math.floor(Math.random() * 2) + 1;
        document.getElementById('queueNumber').textContent = queueNum;
      }
    }
    setInterval(updateQueueNumber, 4000);

    // ===== API Response Time Simulation =====
    function updateApiResponse() {
      const baseTime = 35;
      const variance = Math.floor(Math.random() * 30);
      const responseTime = baseTime + variance;
      document.getElementById('apiResponse').textContent = `(${responseTime}ms)`;
    }
    setInterval(updateApiResponse, 5000);

    // ===== DB Sync Time =====
    let syncMinutes = 3;
    function updateDbSync() {
      syncMinutes++;
      if (syncMinutes > 10) {
        syncMinutes = 1; // Reset (simulating sync)
      }
      document.getElementById('dbSync').textContent = `(${syncMinutes}ë¶„ ì „)`;
    }
    setInterval(updateDbSync, 60000);

    // ===== Quality Gauge Animation on Scroll =====
    const gaugeObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const fills = entry.target.querySelectorAll('.quality-fill');
          fills.forEach(fill => {
            const width = fill.style.width;
            fill.style.width = '0%';
            setTimeout(() => {
              fill.style.width = width;
            }, 100);
          });
          gaugeObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3 });

    const qualityCard = document.querySelector('.quality-card');
    if (qualityCard) {
      gaugeObserver.observe(qualityCard);
    }
  </script>
</body>
</html>